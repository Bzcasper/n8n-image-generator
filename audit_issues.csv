Severity, Issue                                            , File                                                    , Description                                                                                , Fix
High    , "Security Risk: .env File Copied in Docker Image", "Dockerfile:16"                                         , "Dockerfile copies .env file, exposing sensitive environment variables in the final image.", "Remove COPY .env .env line. Use ENV instructions or runtime environment variables."
High    , "Outdated Node.js Base Image"                    , "Dockerfile:2"                                          , "Uses node:18-alpine (nearing EOL)."                                                       , "Update to node:20-alpine or node:22-alpine."
High    , "n8n Workflow: Missing API Error Handling"       , "n8n/image_generate_3.json (Primary Image API node)"    , "No HTTP error checking; fails silently."                                                  , "Add IF node post-HTTP request: if $json.statusCode !== 200 â†’ error response."
High    , "n8n Workflow: Non-Persistent Rate Limiting"     , "n8n/image_generate_3.json (Rate Limiter code node)"    , "In-memory rate limiting fails in scaled environments."                                    , "Integrate Redis or external rate limiter service."
High    , "n8n Workflow: Inactive Workflow"                , "n8n/image_generate_3.json"                             , "Workflow is set to ""active"": false."                                                    , "Set ""active"": true after other fixes."
High    , "n8n Workflow: No API Fallback"                  , "n8n/image_generate_3.json (Primary Image API node)"    , "Only uses first API URL; no retry on failure."                                            , "Add Switch/Loop node to try multiple apiConfigs sequentially."
Medium  , "Environment Variable Management"                , "fly.toml"                                              , "No secrets management for production."                                                    , "Use fly secrets set for VITE_MODAL_API_TOKEN and VITE_N8N_WEBHOOK_URL."
Medium  , "n8n Workflow: Open Webhook"                     , "n8n/image_generate_3.json (Image Generation Webhook)"  , "No authentication; vulnerable to abuse."                                                  , "Add authentication: 'headerAuth' or IP filtering."
Medium  , "Missing Health Checks"                          , "Dockerfile, nginx.conf"                                , "No health check endpoints for monitoring."                                                , "Add simple health check endpoint in nginx.conf and HEALTHCHECK in Dockerfile."
Medium  , "n8n Workflow: Weak Content Filter"              , "n8n/image_generate_3.json (Enhanced Prompt Processor)" , "Only keyword-based filtering."                                                            , "Integrate OpenAI moderation API."
Medium  , "Dependency Vulnerability"                       , "esbuild (via vite)"                                    , "Moderate vulnerability allowing any website to send requests to dev server."              , "Update esbuild to >=0.25.0 by updating vite or overriding version."
Medium  , "n8n Workflow: Code Node Complexity"             , "n8n/image_generate_3.json (2 Code nodes)"              , "Hard to maintain."                                                                        , "Refactor to native n8n nodes (Set, Function)."
Medium  , "n8n Workflow: No Monitoring"                    , "n8n/image_generate_3.json"                             , "No error notifications."                                                                  , "Add Slack/Email nodes on error paths."
Low     , "Long Cache Expiration"                          , "nginx.conf:14"                                         , "Static assets cached for 1 year."                                                         , "Reduce to 1-6 months or implement cache busting."
Low     , "Incomplete Security Headers"                    , "nginx.conf:18-22"                                      , "Missing CSP and Referrer Policy."                                                         , "Add add_header Content-Security-Policy ""default-src 'self'""; and add_header Referrer-Policy ""strict-origin-when-cross-origin"";."
Low     , "Linting Warnings"                               , "src/components/loaders/LoadingTipCard.tsx:12, 325, 337", "Fast refresh warnings (development-only)."                                                , "Extract constants/functions to separate files (no production impact)."
Low     , "n8n Workflow: Assumed Query Params"             , "n8n/image_generate_3.json (Validation nodes)"          , "May fail if POST body used."                                                              , "Handle both $json.query and $json.body."
Low     , "n8n Workflow: Limited Retry/Timeout"            , "n8n/image_generate_3.json (HTTP node)"                 , "45s timeout, no retries."                                                                 , "Set retryOnFail: true, increase timeout."
Low     , "Unnecessary Vite Optimization Exclusion"        , "vite.config.ts:8"                                      , "Excludes lucide-react from optimizeDeps."                                                 , "Remove exclusion unless profiling shows issues."
Low     , "n8n Workflow: No Modal Integration"             , "n8n/image_generate_3.json"                             , "Uses Pollinations API, not Modal as project expects."                                     , "Confirm if intentional; update to Modal API if needed."